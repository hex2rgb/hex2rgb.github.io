<!doctype html><html lang=en-us><head><title>Docker常用命令 &#183; R</title><meta name=generator content="Hugo 0.74.2"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=author content="R"><meta name=description content="前端，javascript，css，html，react，vue，小程序，公众号，hugo，node"><link rel=canonical href=https://hex2rgb.github.io/2018/12/12/docker-command/><link rel=icon href=https://hex2rgb.github.io/favicon.ico><link rel=apple-touch-icon href=https://hex2rgb.github.io/apple-touch-icon.png><link rel=stylesheet href=https://hex2rgb.github.io/style/style.4d2d03dad217f3258f242c0443c6f53646978377044bd6309ee309f1d5d24018.css><link rel=stylesheet href=https://hex2rgb.github.io/css/font-awesome.min.css><link rel=stylesheet href=https://hex2rgb.github.io/css/monokai.css><link rel=stylesheet href=https://hex2rgb.github.io/fancybox/jquery.fancybox.css><link rel=stylesheet href=https://hex2rgb.github.io/css/cover_themes.css><link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,600" rel=stylesheet type=text/css><link href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel=stylesheet type=text/css><meta property="og:title" content="Docker常用命令"><meta property="og:description" content="删除容器
docker rm $(docker ps -a | grep &#34;Exited&#34; | awk '{print $1 }')
删除none镜像
docker rmi $(docker images | grep &#34;none&#34; | awk '{print $3}') 
docker 基础命令
查看centos镜像，也可以 docker search cent (搜索含有cent的)
docker search centos"><meta property="og:type" content="article"><meta property="og:url" content="https://hex2rgb.github.io/2018/12/12/docker-command/"><meta property="article:published_time" content="2018-12-12T08:18:34+08:00"><meta property="article:modified_time" content="2018-12-12T08:18:34+08:00"><meta itemprop=name content="Docker常用命令"><meta itemprop=description content="删除容器
docker rm $(docker ps -a | grep &#34;Exited&#34; | awk '{print $1 }')
删除none镜像
docker rmi $(docker images | grep &#34;none&#34; | awk '{print $3}') 
docker 基础命令
查看centos镜像，也可以 docker search cent (搜索含有cent的)
docker search centos"><meta itemprop=datePublished content="2018-12-12T08:18:34+08:00"><meta itemprop=dateModified content="2018-12-12T08:18:34+08:00"><meta itemprop=wordCount content="318"><meta itemprop=keywords content="docker常用命令,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker常用命令"><meta name=twitter:description content="删除容器
docker rm $(docker ps -a | grep &#34;Exited&#34; | awk '{print $1 }')
删除none镜像
docker rmi $(docker images | grep &#34;none&#34; | awk '{print $3}') 
docker 基础命令
查看centos镜像，也可以 docker search cent (搜索含有cent的)
docker search centos"><script src=https://hex2rgb.github.io/js/lib/jquery.min.js></script></head><body><div class=container><div id=toTop class="fa fa-angle-up"></div><div id=container><header id=header><div id=header-main class=header-inner><div class=outer><a href=https://hex2rgb.github.io/ id=logo><i class=logo style=background-image:url(https://hex2rgb.github.io/css/images/logo.png)></i><span class=site-title>R</span></a><nav id=main-nav><a class=main-nav-link target=_self href=https://hex2rgb.github.io/>首页</a>
<a class=main-nav-link target=_self href=https://hex2rgb.github.io/archives/>归档</a>
<a class=main-nav-link target=_self href=https://hex2rgb.github.io/categories/>分类</a>
<a class=main-nav-link target=_self href=https://hex2rgb.github.io/dashboard/>统计</a>
<a class=main-nav-link target=_self href=https://hex2rgb.github.io/about/>关于</a>
<a class=main-nav-link target=_self href=https://hex2rgb.gitee.io/>国内镜像</a></nav><nav id=sub-nav><div class=profile id=profile-nav><a id=profile-anchor href=javascript:;><img class=avatar src=https://hex2rgb.github.io/css/images/avatar.png><i class="fa fa-caret-down"></i></a></div></nav><div id=search-form-wrap><form id=form action=//www.baidu.com/s method=get accept-charset=utf-8 class=search-form><input type=search name=keyWord class=search-form-input placeholder=搜索>
<button type=submit class=search-form-submit></button>
<input type=hidden name=sitesearch value=https://hex2rgb.github.io/></form><script>var loading=false;$("#search-form-wrap form").submit(function(){if(loading)return false;$.ajax({type:"GET",timeout:2000,url:"https://www.google.com",dataType:'jsonp',crossDomain:true,complete:function(jqXHR,textStatus){loading=false;var value=$("#form [name=keyWord]").val();if(jqXHR.status===200){window.open('//google.com/search?q='+value+'&sitesearch=https:\/\/hex2rgb.github.io\/');}else{var site="https:\/\/hex2rgb.github.io\/";site=site.split("://")[1];window.open('//www.baidu.com/s?wd='+value+' site:'+site);}}});return false;});</script></div></div></div><div id=main-nav-mobile class="header-sub header-inner"><table class="menu outer"><tbody><tr><td><a class=main-nav-link href=https://hex2rgb.github.io/>首页</a></td><td><a class=main-nav-link href=https://hex2rgb.github.io/archives/>归档</a></td><td><a class=main-nav-link href=https://hex2rgb.github.io/categories/>分类</a></td><td><a class=main-nav-link href=https://hex2rgb.github.io/dashboard/>统计</a></td><td><a class=main-nav-link href=https://hex2rgb.github.io/about/>关于</a></td><td><a class=main-nav-link href=https://hex2rgb.gitee.io/>国内镜像</a></td><td><form action=//google.com/search method=get accept-charset=utf-8 class=search-form><input type=search name=q class=search-form-input placeholder=Search>
<input type=hidden name=sitesearch value=https://hex2rgb.github.io/></form></td></tr></tbody></table></div></header><div class=outer><aside id=profile><div class="inner profile-inner"><div class="base-info profile-block"><img id=avatar src=https://hex2rgb.github.io/css/images/avatar.png><h2 id=name>R</h2><h3 id=title>fork,no star === BP</h3><span id=location><i class="fa fa-map-marker"></i>Mars</span>
<a id=follow target=_blank href=https://github.com/hex2rgb>关注</a></div><div class="article-info profile-block"><a style=color:inherit target=_blank href=/archives/><div class=article-info-block>17
<span>文章</span></div></a><a style=color:inherit href=/tags/><div class=article-info-block>20
<span>标签</span></div></a></div><div class="profile-block social-links"><table><tr><td><a href=//github.com/hex2rgb target=_blank title=GitHub><i class="fa fa-github"></i></a></td><td><a href=https://hex2rgb.github.io/index.xml target=_blank title=RSS><i class="fa fa-rss"></i></a></td></tr></table></div></div><div class="inner profile-inner"></div><div class="inner profile-inner"><div class=widget-wrap><h3 class=widget-title>分类</h3><div class=widget><ul class=category-list><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/categories/docker>docker</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/categories/javascript>javascript</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/categories/linux>linux</a>
<span class=category-list-count>6</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/categories/pve>pve</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/categories/python>python</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/categories/source-tree>source-tree</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/categories/%E5%89%8D%E7%AB%AF>前端</a>
<span class=category-list-count>1</span></li></ul></div></div></div><div class="inner profile-inner"><div class=widget-wrap><h3 class=widget-title>标签</h3><div class=widget><ul class=category-list><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/cifs>cifs</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4>docker常用命令</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/frp>frp</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/git>git</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/git%E5%85%A5%E9%97%A8>git入门</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/linux>linux</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/matplotlib>matplotlib</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/node>node</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/npm>npm</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/nvm>nvm</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/pci>pci</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/pve>pve</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/smb>smb</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/vi>vi</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/vim>vim</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/%E5%87%BA%E5%8F%A3ip%E6%9F%A5%E8%AF%A2>出口ip查询</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/%E5%BE%AE%E4%BF%A1>微信</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/%E6%8C%82%E8%BD%BD%E7%A1%AC%E7%9B%98>挂载硬盘</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/%E7%A1%AC%E7%9B%98%E7%9B%B4%E9%80%9A>硬盘直通</a>
<span class=category-list-count>1</span></li><li class=category-list-item><a class=category-list-link href=https://hex2rgb.github.io/tags/%E7%A5%A8%E6%8D%AE>票据</a>
<span class=category-list-count>1</span></li></ul></div></div></div><div class="inner profile-inner"><div class=widget-wrap><h3 class=widget-title>标签云</h3><div class="widget tagcloud"><a href=https://hex2rgb.github.io/tags/cifs style=font-size:12px>cifs</a>
<a href=https://hex2rgb.github.io/tags/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4 style=font-size:12px>docker常用命令</a>
<a href=https://hex2rgb.github.io/tags/frp style=font-size:12px>frp</a>
<a href=https://hex2rgb.github.io/tags/git style=font-size:12px>git</a>
<a href=https://hex2rgb.github.io/tags/git%E5%85%A5%E9%97%A8 style=font-size:12px>git入门</a>
<a href=https://hex2rgb.github.io/tags/linux style=font-size:12px>linux</a>
<a href=https://hex2rgb.github.io/tags/matplotlib style=font-size:12px>matplotlib</a>
<a href=https://hex2rgb.github.io/tags/node style=font-size:12px>node</a>
<a href=https://hex2rgb.github.io/tags/npm style=font-size:12px>npm</a>
<a href=https://hex2rgb.github.io/tags/nvm style=font-size:12px>nvm</a>
<a href=https://hex2rgb.github.io/tags/pci style=font-size:12px>pci</a>
<a href=https://hex2rgb.github.io/tags/pve style=font-size:12px>pve</a>
<a href=https://hex2rgb.github.io/tags/smb style=font-size:12px>smb</a>
<a href=https://hex2rgb.github.io/tags/vi style=font-size:12px>vi</a>
<a href=https://hex2rgb.github.io/tags/vim style=font-size:12px>vim</a>
<a href=https://hex2rgb.github.io/tags/%E5%87%BA%E5%8F%A3ip%E6%9F%A5%E8%AF%A2 style=font-size:12px>出口ip查询</a>
<a href=https://hex2rgb.github.io/tags/%E5%BE%AE%E4%BF%A1 style=font-size:12px>微信</a>
<a href=https://hex2rgb.github.io/tags/%E6%8C%82%E8%BD%BD%E7%A1%AC%E7%9B%98 style=font-size:12px>挂载硬盘</a>
<a href=https://hex2rgb.github.io/tags/%E7%A1%AC%E7%9B%98%E7%9B%B4%E9%80%9A style=font-size:12px>硬盘直通</a>
<a href=https://hex2rgb.github.io/tags/%E7%A5%A8%E6%8D%AE style=font-size:12px>票据</a></div></div></div></aside><section id=main><article id=page-undefined class="article article-type-page" itemscope itemprop=blogPost><div class=article-inner><img src=https://hex2rgb.github.io/banners/docker.jpeg class=article-banner><header class=article-header><a href=https://hex2rgb.github.io/2018/12/12/docker-command/><h1 class=article-title itemprop=name>Docker常用命令</h1></a><div class=article-meta><div class=article-date><i class="fa fa-calendar"></i><time datetime="2018-12-12 08:18:34 +0800 +0800" itemprop=datePublished>2018-12-12</time>
&#183;
318
个字
&#183;
2
分钟 读完</div><div class=article-category><i class="fa fa-folder"></i><a class=article-category-link href=https://hex2rgb.github.io/categories/docker>docker</a></div><div class=article-category><i class="fa fa-tags"></i><a class=article-category-link href=https://hex2rgb.github.io/tags/docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4>docker常用命令</a></div></div></header><div class=article-entry itemprop=articleBody><h3 id=删除容器>删除容器</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker rm <span style=color:#66d9ef>$(</span>docker ps -a | grep <span style=color:#e6db74>&#34;Exited&#34;</span> | awk <span style=color:#e6db74>&#39;{print $1 }&#39;</span><span style=color:#66d9ef>)</span>
</code></pre></div><h3 id=删除none镜像>删除none镜像</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker rmi <span style=color:#66d9ef>$(</span>docker images | grep <span style=color:#e6db74>&#34;none&#34;</span> | awk <span style=color:#e6db74>&#39;{print $3}&#39;</span><span style=color:#66d9ef>)</span> 
</code></pre></div><h3 id=docker-基础命令>docker 基础命令</h3><p>查看centos镜像，也可以 docker search cent (搜索含有cent的)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker search centos
</code></pre></div><p>筛选查看官方镜像 含有cent</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker search -f is-official<span style=color:#f92672>=</span>true cent
</code></pre></div><p>最大条数5条(默认25条)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker search --limit <span style=color:#ae81ff>5</span>
</code></pre></div><p>下载centos 7版本(下载指定版本)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker pull centos:7
</code></pre></div><p>查看本地镜像</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker images
</code></pre></div><p>查看本地镜像(区别不知道)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>   docker images ls
</code></pre></div><p>展示是ubuntu</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker ubuntu
</code></pre></div><p>模糊匹配(含有多个相同名称的镜像但是tag不同则需要指定版本:latest)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker ubu*:latest
</code></pre></div><p>删除镜像,默认删除latest版本</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker rmi ubuntu
</code></pre></div><p>删除指定版本(image id 输入可表示唯一的就可以)(使用name找不到镜像时需要指定版本号)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>   docker rmi ubuntu:imageid/tag
</code></pre></div><p>强制删除</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker rmi -f ubuntu
</code></pre></div><p>保存镜像(多个)到 路径linux.tar(使用imageid 保存后再导入 name 和tag 会丢失)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker save ubuntu centos &gt; linux.tar
</code></pre></div><p>保存镜像(多个)到 路径linux.tar</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker save ubuntu centos -o linux.tar
</code></pre></div><p>导入路径为linux.tar 的镜像</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker load -i linux.tar
</code></pre></div><p>增加一个镜像引用,并不会更改原有镜像的tag</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker tag centos centos:7.4
</code></pre></div><p>对于name或者tag为none的镜像,会将该镜像重命名,不会创建一个引用</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker tag imageid ubuntu:lastest
</code></pre></div><p>查看镜像详细信息</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker image inspect centos
</code></pre></div><p>查看镜像详细信息grep 后面是查询的字符串(只能跟镜像)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker image inspect centos:7 | grep Created
</code></pre></div><p>(只能跟镜像)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker image inspect -f <span style=color:#e6db74>&#34;{{json .Id}}&#34;</span> centos:7
</code></pre></div><p>(可以查容器或者image)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker inspect
</code></pre></div><p>查看指定镜像的创建历史。</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker history centos
</code></pre></div><p>创建container</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker create <span style=color:#f92672>[</span>OPTIONS<span style=color:#f92672>]</span> IMAGE <span style=color:#f92672>[</span>COMMAND<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>ARG...<span style=color:#f92672>]</span>
<span style=color:#75715e># 例: docker creat --name centos centos:7 ls -a</span>
</code></pre></div><p>分配虚拟终端</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker create -ti
</code></pre></div><p>删除create 状态的容器</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker rm centos_test 031dad72b794 4293516e9cbb
</code></pre></div><p>启动并将容器命令执行结果输出在控制台</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker start -a centos-name
</code></pre></div><p>创建容器分配虚拟终端(-ti用以执行交互命令)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    docker create -ti --name python-new2 centos python
</code></pre></div><p>启动容器分配虚拟终端(-i用以执行交互命令,只是输出结果则使用-a即可)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker start -ai python-new2
</code></pre></div><p>前台运行，等价于 docker create centos + docker start -a centos</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker run centos ls
</code></pre></div><p>后台运行，等价于 docker create + docker start</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>    docker run -d
</code></pre></div><p>定时关闭容器</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker stop -t <span style=color:#ae81ff>0</span> bf
</code></pre></div><p>关闭容器</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># -s 信号(kill -l 查看信号)</span>
<span style=color:#75715e># stop SIGTERM (可以被阻止)</span>
<span style=color:#75715e># stop SIGKILL (不可以被阻止)</span> 
docker kill
</code></pre></div><p>暂停容器</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker pause CONTAINER
</code></pre></div><p>恢复容器</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker unpause
</code></pre></div><p>重启容器</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># 等价于docker stop + dockerstart</span>
docker restart
</code></pre></div><p>&ndash;rm:stop后自动删除</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker run -dti --rm centos bash
docker create -dti --rm centos bash
</code></pre></div><p>查看详细信息 === docker inspect</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker container inspect
</code></pre></div><p>查看cmd命令的输出结果</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># -f :持续输出</span>
<span style=color:#75715e># --tail :输出结尾几行默认输出全部</span>
docker logs centos
</code></pre></div><p>容器重命名</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>docker rename CONTAINER newname
</code></pre></div><p>容器链接</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># 像ssh一样链接到容器中的[主进程]中,退出后改容器也会退出</span>
<span style=color:#75715e># --no-stdin:不绑定STDIN(输入不会被主进程接收但是,主进程输出可以全出--network输出到)</span>
docker attach <span style=color:#f92672>(</span>主进程操作<span style=color:#f92672>)</span>
</code></pre></div><p>连接子进程,子进程退出的时候不会影响主进程(1 号进程)</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=color:#75715e># docker exec -dti CONTAINER  python(-d 后台运行)</span>
<span style=color:#75715e># docker exec -w /root/ (切换工作目录)</span>
<span style=color:#75715e># docker exec -e (设置容器中运行的环境变量)</span>
docker exec -ti CONTAINER  python
</code></pre></div></div></div><nav id=article-nav><a href=https://hex2rgb.github.io/2018/06/01/frp-ssh/ id=article-nav-older class=article-nav-link-wrap><strong class=article-nav-caption>下一篇</strong><div class=article-nav-title>搭建frp用作内网SSH穿透</div></a><a href=https://hex2rgb.github.io/2019/03/06/hang-smb-cifs/ id=article-nav-newer class=article-nav-link-wrap><strong class=article-nav-caption>上一篇</strong><div class=article-nav-title>开机挂载smb、cifs</div></a></nav></article></section></div></div><footer id=footer><div class=outer><div id=footer-info class=inner>&copy; 2020
R
Powered by <a href=//gohugo.io>Hugo</a>. Theme by <a href=https://github.com/ppoffice>PPOffice</a>.</div></div></footer><script src=https://hex2rgb.github.io/fancybox/jquery.fancybox.pack.js></script><script src=https://hex2rgb.github.io/js/script.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.9.0/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><script type=text/x-mathjax-config>
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']]}
  });
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html><script>var _hmt=_hmt||[];(function(){if('production'==='development'){return;}
var hm=document.createElement("script");hm.src="https://hm.baidu.com/hm.js?c15bd9c742276d0e2c533e5629fc42ed";var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(hm,s);})();</script>